from pyramid.request import Request
from pyramid.view import view_config


class Person:
    def __init__(self, req: Request):
        self.req = req
        self.db = self.req.dbsession

    @view_config(route_name='people', renderer='people.jinja2')
    def people(self):
        return {'people': self.db.query(Person).all()}

    @view_config(route_name='person', renderer='person.jinja2')
    def person(self):
        id_ = self.req.params['id']
        return {'person': self.db.query(Person).get(id_)}

    @view_config(route_name='add_person', renderer='people.jinja2')
    def update(self):
        pass

    @view_config(route_name='delete_person', renderer='people.jinja2')
    def delete(self):
        pass
